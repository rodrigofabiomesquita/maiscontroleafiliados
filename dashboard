<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Painel do Afiliado</title>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    const supabase = supabase.createClient(
      "https://SEU-PROJETO.supabase.co",
      "SUA_PUBLIC_ANON_KEY"
    );
  </script>
</head>

<body>

<h2>Dashboard</h2>
<p id="email"></p>

<button onclick="logout()">Sair</button>

<script>
(async () => {
  const { data: { session } } = await supabase.auth.getSession();

  if (!session) {
    window.location.href = "/login.html";
    return;
  }

  document.getElementById("email").innerText = session.user.email;
})();

async function logout() {
  await supabase.auth.signOut();
  window.location.href = "/login.html";
}
</script>

</body>
</html>
